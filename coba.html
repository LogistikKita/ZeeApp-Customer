<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Simulasi Tarif Carter - Logistik Kita</title>
  <style>
    body {
      font-family: sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f9f9f9;
    }
    header {
      background-color: #ba1a1a;
      color: white;
      padding: 1rem;
      text-align: center;
    }
    .container {
      max-width: 700px;
      margin: 2rem auto;
      background: white;
      padding: 2rem;
      border-radius: 1rem;
      box-shadow: 0 0 20px rgba(0,0,0,0.1);
    }
    label {
      display: block;
      margin-top: 1rem;
    }
    input, select {
      width: 100%;
      padding: 0.5rem;
      margin-top: 0.3rem;
      border: 1px solid #ccc;
      border-radius: 0.4rem;
    }
    .btn {
      background-color: #ba1a1a;
      color: white;
      padding: 0.8rem 1.5rem;
      margin-top: 1.5rem;
      border: none;
      border-radius: 0.4rem;
      cursor: pointer;
      width: 100%;
    }
    .popup {
      display: none;
      position: fixed;
      top: 10%;
      left: 50%;
      transform: translateX(-50%);
      background: white;
      padding: 2rem;
      border-radius: 1rem;
      box-shadow: 0 0 20px rgba(0,0,0,0.2);
      z-index: 1000;
    }
    .popup.show {
      display: block;
    }
    .checkbox-group {
      display: flex;
      gap: 1rem;
      margin-top: 0.5rem;
    }
  </style>
</head>
<body>

<header>
  <h1>Simulasi Tarif Carter</h1>
</header>

<div class="container">
  <label>Lokasi Garasi (default)</label>
  <input type="text" value="Logistik Kita (0 km)" disabled />

  <label>Jarak dari Garasi ke Penjemputan</label>
  <input type="number" id="jarakPenjemputan" placeholder="Misal: 21 km" />

  <label>Jarak dari Penjemputan ke Bongkar</label>
  <input type="number" id="jarakBongkar" placeholder="Misal: 37 km" />

  <label>Kembali ke Garasi?</label>
  <div class="checkbox-group">
    <input type="checkbox" id="kembaliGarasi" />
    <label for="kembaliGarasi">Ya, kembali ke garasi</label>
  </div>

  <div id="kembaliInput" style="display:none;">
    <label>Jarak Bongkar ke Garasi</label>
    <input type="number" id="jarakKembali" placeholder="Misal: 52 km" />
  </div>

  <label>Nama Barang</label>
  <input type="text" id="namaBarang" placeholder="Misal: Jumbo Bag" />

  <label>Berat Barang (kg)</label>
  <input type="number" id="beratBarang" />

  <label>Jadwal Pengiriman</label>
  <input type="date" id="jadwal" />

  <label>Biaya TKBM</label>
  <select id="tkbm">
    <option value="0">Tidak ada</option>
    <option value="75000">75.000 (6 jam)</option>
    <option value="90000">90.000 (8 jam)</option>
    <option value="100000">100.000 (12 jam)</option>
  </select>

  <label>Jenis Customer</label>
  <select id="jenisCustomer">
    <option value="perorangan">Perorangan</option>
    <option value="perusahaan">Perusahaan</option>
  </select>

  <button class="btn" onclick="hitungTarif()">Cek Tarif Carter</button>
</div>

<!-- Popup hasil -->
<div class="popup" id="popup">
  <h2>Estimasi Tarif Carter</h2>
  <div id="hasilOutput"></div>
  <p><strong>Catatan:</strong><br>
  Estimasi tarif belum termasuk biaya TKBM.<br>
  Hubungi Admin Logistik Kita untuk info selengkapnya.</p>
  <button class="btn" onclick="document.getElementById('popup').classList.remove('show')">Tutup</button>
</div>

<script>
  document.getElementById("kembaliGarasi").addEventListener("change", function () {
    document.getElementById("kembaliInput").style.display = this.checked ? "block" : "none";
  });

  function hitungTarif() {
    const jarak1 = parseFloat(document.getElementById("jarakPenjemputan").value) || 0;
    const jarak2 = parseFloat(document.getElementById("jarakBongkar").value) || 0;
    const kembali = document.getElementById("kembaliGarasi").checked;
    const jarakKembali = kembali ? parseFloat(document.getElementById("jarakKembali").value) || 0 : 0;
    const berat = parseFloat(document.getElementById("beratBarang").value) || 0;
    const tkbm = parseInt(document.getElementById("tkbm").value);
    const jenisCustomer = document.getElementById("jenisCustomer").value;

    const totalJarak = jarak1 + jarak2 + jarakKembali;
    const estimasiJam = totalJarak / 80;

    let armada = berat <= 1300 ? "Pickup Granmax" : "Pickup L300";

    // Sewa mobil
    let sewa = 0;
    if (armada === "Pickup Granmax") {
      if (estimasiJam <= 6) sewa = 100000;
      else if (estimasiJam <= 12) sewa = 150000;
      else sewa = 200000;
    } else {
      if (estimasiJam <= 6) sewa = 200000;
      else if (estimasiJam <= 12) sewa = 250000;
      else sewa = 350000;
    }

    // Biaya BBM
    const konsumsi = 9;
    const hargaBBM = 10000;
    const liter = totalJarak / konsumsi;
    const biayaBBM = liter * hargaBBM;

    // Biaya Driver
    let driver = 0;
    if (estimasiJam <= 6) driver = 150000;
    else if (estimasiJam <= 12) driver = 200000;
    else driver = 250000;

    // Pajak
    let pajak = 0;
    if (jenisCustomer === "perusahaan") {
      pajak = 0.14;
    } else {
      pajak = 0.02;
    }

    const subtotal = biayaBBM + sewa + driver + tkbm;
    const total = subtotal + subtotal * pajak;

    document.getElementById("hasilOutput").innerHTML = `
      <p>ðŸ§­ Total Jarak: <strong>${totalJarak.toFixed(1)} km</strong></p>
      <p>ðŸšš Armada: <strong>${armada}</strong></p>
      <p>ðŸ“¦ Barang: <strong>${document.getElementById("namaBarang").value}</strong> (${berat} kg)</p>
      <p>ðŸ“… Jadwal: ${document.getElementById("jadwal").value}</p>
      <p><strong>ðŸ’° Estimasi Tarif: Rp ${Math.round(total).toLocaleString("id-ID")}</strong></p>
    `;
    document.getElementById("popup").classList.add("show");
  }
</script>

</body>
</html>
